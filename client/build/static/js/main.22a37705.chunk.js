(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,r){},115:function(e,t,r){},116:function(e,t,r){},120:function(e,t,r){},150:function(e,t,r){"use strict";r.r(t);var a=r(2),n=r(42),s=r.n(n),c=(r(40),r(16)),o=r(14),i=(r(88),r(89),r(1)),l=function(){return Object(i.jsxs)("footer",{children:[Object(i.jsxs)("div",{className:"contact",children:[Object(i.jsxs)("div",{className:"addresses",children:[Object(i.jsxs)("div",{className:"contactInfo infoOne",children:[Object(i.jsx)("img",{className:"contactImg",src:"/assets/rrss_icons/pin.png",alt:"pin"}),Object(i.jsxs)("p",{children:["Jujuy 995, Mar del Plata, ",Object(i.jsx)("br",{id:"footerBr"}),"Buenos Aires"]})]}),Object(i.jsxs)("div",{className:"mob",children:[Object(i.jsxs)("div",{className:"contactInfo infoTwo",children:[Object(i.jsx)("img",{className:"contactImg",src:"/assets/rrss_icons/telephone.png",alt:"telephone"}),Object(i.jsx)("p",{children:"+54 2235391098"})]}),Object(i.jsxs)("div",{className:"contactInfo infoThree",children:[Object(i.jsx)("img",{className:"mailImg",src:"/assets/rrss_icons/mail.png",alt:"email"}),Object(i.jsx)("p",{children:"info@mardelcasas.com"})]})]})]}),Object(i.jsxs)("div",{className:"socialNetworks",children:[Object(i.jsx)("a",{href:"www.facebook.com",target:"_blank",children:Object(i.jsx)("img",{className:"rrssImg",src:"/assets/rrss_icons/facebook.png",alt:"facebook"})}),Object(i.jsx)("a",{href:"www.instagram.com",target:"_blank",children:Object(i.jsx)("img",{className:"rrssImg",src:"/assets/rrss_icons/instagram.png",alt:"instagram"})}),Object(i.jsx)("a",{href:"www.twitter.com",target:"_blank",children:Object(i.jsx)("img",{className:"rrssImg",src:"/assets/rrss_icons/twitter.png",alt:"twitter"})})]})]}),Object(i.jsx)("div",{className:"copyright",children:Object(i.jsx)("p",{children:" Copyright Cohort 21 | MindHub"})})]})},u=r(8),j=(r(91),function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),r=t[0],n=t[1],s=[{name:"Ingresar Sesion",ruta:"/iniciar-sesion"},{name:"Registrarse",ruta:"/registrarse"},{name:"Admin",ruta:"/admin"}].map((function(e,t){return Object(i.jsx)(c.b,{to:e.ruta,children:e.name},t)}));return Object(i.jsxs)("div",{className:"navBar",children:[Object(i.jsx)("button",{onClick:function(){return n(!r)},children:Object(i.jsx)("img",{className:"logoUser",src:"/assets/logo.png",alt:"logo-user",width:"50px",height:"50px"})}),r&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("nav",{className:"userMenu",children:s}),Object(i.jsx)("div",{className:"closeDiv1",onClick:function(){return n(!1)}}),Object(i.jsx)("div",{className:"closeDiv2",onClick:function(){return n(!1)}})]})]})}),d=function(){return Object(i.jsxs)("header",{children:[Object(i.jsx)("h1",{children:"MarDelCasas"}),Object(i.jsx)("div",{className:"nav",children:Object(i.jsx)(j,{})})]})},b=r(13),p=r(4),h=r(6),O=r.n(h),m=r(9),x=r(10),f=r(18),v=r.n(f),g={getPropertiesFiltered:function(e){return console.log("filter que se aplica al endpoint en redux",e),function(){var t=Object(m.a)(O.a.mark((function t(r){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.put("https://mardelcasas.herokuapp.com/api/properties",{filter:e});case 2:return a=t.sent,console.log("array de propiedades en action getProperties"),console.log(a.data.response),r({type:"GET_PROPERTIES_FILTERED",payload:{filterObj:e,response:a.data.response}}),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getProperty:function(e){return Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.a.get("https://mardelcasas.herokuapp.com/api/property/".concat(e));case 3:if(!(r=t.sent).data.success){t.next=8;break}return t.abrupt("return",{success:!0,response:r.data.response});case 8:throw new Error;case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{success:!1,error:"Error de conexi\xf3n. Intente mas tarde"});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))},getNumberOfProperties:function(e){return Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("https://mardelcasas.herokuapp.com/api/getnumberofprops/".concat(e));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))},setFilter:function(e){return function(t){t({type:"SET_FILTER",payload:e})}}},k={getPropertiesFiltered:g.getPropertiesFiltered},w=Object(x.b)((function(e){return{propertiesFiltered:e.properties.properties}}),k)((function(e){var t=Object(a.useState)({forSale:!0,shortRental:!1,isBrandNew:!1,haveGarage:!1}),r=Object(u.a)(t,2),n=r[0],s=r[1],c=Object(o.g)(),l=function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.prev=1,t.next=4,e.getPropertiesFiltered(n);case 4:if(r=t.sent,console.log("array de propiedades en home despues de hacer primera busqueda"),console.log(r.data.response),r.data.success){t.next=11;break}throw r.data.response;case 11:c.push("/lista-de-propiedades");case 12:if(r.data.response){t.next=14;break}throw r.data.response;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(){return t.apply(this,arguments)}}(),j=function(e){e.preventDefault();for(var t=e.target.dataset.type,r=e.target.parentNode.children,a=!0,c=!1,o=0;o<r.length;o++)r[o].dataset!==t&&(r[o].className=" ");e.target.className="active","forSale"===e.target.dataset.type?(a=!0,c=!1):"shortRent"===e.target.dataset.type?(a=!1,c=!0):(a=!1,c=!1),s(Object(p.a)(Object(p.a)({},n),{},{forSale:a,shortRental:c}))},d=function(e){s(Object(p.a)(Object(p.a)({},n),{},Object(b.a)({},e.target.name,e.target.checked)))},h=function(e){if("allCases"===e.target.value){var t={};Object.keys(n).forEach((function(r){r!==e.target.name&&(t[r]=n[r])})),s(t)}else s(Object(p.a)(Object(p.a)({},n),{},Object(b.a)({},e.target.name,6===parseInt(e.target.value)?{$gte:6}:parseInt(e.target.value))))};return Object(i.jsxs)("div",{className:"homeFilter",children:[Object(i.jsx)("div",{className:"firstRow",children:Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{className:"active",onClick:j,"data-type":"forSale",children:"Venta"}),Object(i.jsx)("li",{onClick:j,"data-type":"forRent",children:"Alquiler"}),Object(i.jsx)("li",{onClick:j,"data-type":"shortRent",children:"Alquiler temporario"})]})}),Object(i.jsxs)("div",{className:"secondRow",children:[Object(i.jsx)("div",{children:Object(i.jsxs)("select",{name:"isHouse",onChange:function(e){if(console.log(e.target.value),"allCases"===e.target.value){var t={};Object.keys(n).forEach((function(r){r!==e.target.name&&(t[r]=n[r])})),s(t)}else{var r="house"===e.target.value;s(Object(p.a)(Object(p.a)({},n),{},Object(b.a)({},e.target.name,r)))}},children:[Object(i.jsx)("option",{value:"allCases",children:"Todas"}),Object(i.jsx)("option",{value:"house",children:"Casa"}),Object(i.jsx)("option",{value:"apartment",children:"Departamento"})]})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsxs)("select",{name:"numberOfBedrooms",onChange:h,children:[Object(i.jsx)("option",{value:"allCases",children:"Dormitorios"}),Object(i.jsx)("option",{value:1,children:"1 dormitorio"}),Object(i.jsx)("option",{value:2,children:"2 dormitorios"}),Object(i.jsx)("option",{value:3,children:"3 dormitorios"}),Object(i.jsx)("option",{value:4,children:"4 dormitorios"}),Object(i.jsx)("option",{value:5,children:"5 dormitorios"}),Object(i.jsx)("option",{value:6,children:"6 o m\xe1s"})]})}),Object(i.jsx)("div",{children:Object(i.jsxs)("select",{name:"numberOfBathrooms",onChange:h,children:[Object(i.jsx)("option",{value:"allCases",children:"Ba\xf1os"}),Object(i.jsx)("option",{value:1,children:"1 ba\xf1o"}),Object(i.jsx)("option",{value:2,children:"2 ba\xf1os"}),Object(i.jsx)("option",{value:3,children:"3 ba\xf1os"}),Object(i.jsx)("option",{value:4,children:"4 ba\xf1os"}),Object(i.jsx)("option",{value:5,children:"5 ba\xf1os"}),Object(i.jsx)("option",{value:6,children:"6 o m\xe1s"})]})})]}),Object(i.jsxs)("div",{className:"boxes",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"checkbox",id:"aEstrenar",name:"isBrandNew",onChange:d}),Object(i.jsx)("label",{htmlFor:"aEstrenar",children:"A estrenar"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"checkbox",id:"conCochera",name:"haveGarage",onChange:d}),Object(i.jsx)("label",{htmlFor:"conCochera",children:"Con cochera"})]})]}),Object(i.jsx)("div",{className:"homeFilterButtonBigResponsive",children:Object(i.jsx)("button",{onClick:l,children:"Buscar"})})]}),Object(i.jsx)("div",{className:"homeFilterButton",children:Object(i.jsx)("button",{onClick:l,children:"Buscar"})})]})})),y=function(){return Object(i.jsxs)("div",{className:"containerHero",children:[Object(i.jsx)(d,{}),Object(i.jsx)(w,{})]})},C=(r(66),{getNumberOfProperties:g.getNumberOfProperties}),N=Object(x.b)(null,C)((function(e){var t=Object(a.useState)(),r=Object(u.a)(t,2),n=r[0],s=r[1],o=e.city,l=o.cityName,j=o.photoURL,d=o._id;return Object(a.useEffect)((function(){(function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getNumberOfProperties(d);case 3:if((r=t.sent).success){t.next=8;break}throw r.data.response;case 8:s(r.response);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(i.jsx)("div",{className:"divCard",children:Object(i.jsx)(c.b,{to:"/city",children:Object(i.jsxs)("div",{className:"cardCity",style:{backgroundImage:"url(".concat(j,")")},children:[Object(i.jsx)("h1",{children:l}),Object(i.jsxs)("p",{children:["(",n," propiedades)"]})]})})})})),S={getCities:function(){return function(){var e=Object(m.a)(O.a.mark((function e(t,r){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://mardelcasas.herokuapp.com/api/cities");case 2:return a=e.sent,t({type:"GET_CITIES",payload:a.data.response}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}},E={allCities:S.getCities},I=Object(x.b)((function(e){return{cities:e.allCities.cities}}),E)((function(e){Object(a.useEffect)((function(){(function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.allCities();case 3:if((r=t.sent).data.success){t.next=6;break}throw r.data.response;case 6:if(r.data.response.length){t.next=8;break}throw r.data.response;case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var t=e.cities.map((function(e){return Object(i.jsx)(N,{city:e},e._id)}));return Object(i.jsxs)("main",{children:[Object(i.jsx)("div",{className:"mainTitle",children:Object(i.jsx)("h1",{children:"Busc\xe1 en alguna de estas localidades"})}),Object(i.jsx)("div",{className:"mainCityCarBox",children:t})]})})),T=function(){return Object(i.jsxs)("div",{className:"containerHome",children:[Object(i.jsx)(y,{}),Object(i.jsx)(I,{}),Object(i.jsx)(l,{})]})},P=(r(114),r(115),r(157)),A=(r(116),r(159)),R=r(155),M=r(158),B=r(152),F=r(153),U=r(154);r(117),r(118),r(119);M.a.use([B.a,F.a,U.a]);var H=function(e){return Object(i.jsx)("div",{className:"swiperBox",children:Object(i.jsx)(A.a,{className:"swiper",grabCursor:!0,navigation:!0,spaceBetween:1,slidesPerView:1,loop:!0,autoplay:{dealy:3500,disableOnInteraction:!1,pauseOnMouseEnter:!0},children:e.property.map((function(e,t){return Object(i.jsx)(R.a,{children:Object(i.jsx)("di",{children:Object(i.jsx)("div",{className:"swiperSlide",style:{backgroundImage:"url(".concat(e,")")},alt:e})})},t)}))})})},D=r(31),G=r(54),_=r(55),L=function(e){var t=e.property,r=t.isUSD?"USD":"$",a=t.forSale?"Propiedad a la venta":"Propiedad en alquiler",n=t.isHouse?"Casa":"Departamento",s=1===t.numberOfBathrooms?"ba\xf1o":"ba\xf1os",o=t.haveGarage>0?" cochera":null;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(c.b,{property:t,to:"/propiedad/".concat(t._id),className:"cardProperty",id:"mobile",children:[Object(i.jsxs)("div",{className:"pictureCardProperty",style:{backgroundImage:"url(".concat(t.photosURL[0],")")},children:[Object(i.jsxs)("h3",{children:[r," ",t.price]}),Object(i.jsx)("h4",{children:a})]}),Object(i.jsxs)("div",{className:"cardPropertyInfo",children:[Object(i.jsxs)("div",{className:"infoHeader",children:[Object(i.jsxs)("h3",{children:[r," ",t.price]}),Object(i.jsx)("h4",{children:a})]}),Object(i.jsxs)("p",{className:"propertyInfoOne",children:[n," ",t.numberOfRooms," amb ",t.roofedArea,"m cubiertos"]}),Object(i.jsxs)("p",{className:"propertyInfoTwo",children:[Object(i.jsx)(G.a,{})," ",t.numberOfBedrooms," hab / ",Object(i.jsx)(D.a,{})," ",t.numberOfBathrooms," ",s,o&&" / ",o&&Object(i.jsx)(D.b,{}),o," "]}),Object(i.jsxs)("p",{className:"propertyInfoThree",children:[Object(i.jsx)(_.a,{})," ",t.address,", ",t.district]})]})]}),Object(i.jsxs)("div",{property:t,className:"cardProperty Desktop",children:[Object(i.jsxs)("div",{className:"pictureCardProperty",style:{backgroundImage:"url(".concat(t.photosURL[0],")")},children:[Object(i.jsxs)("h3",{children:[r," ",t.price]}),Object(i.jsx)("h4",{children:a})]}),Object(i.jsxs)("div",{className:"cardPropertyInfo",children:[Object(i.jsxs)("div",{className:"infoHeader",children:[Object(i.jsx)(H,{property:t.photosURL}),Object(i.jsx)("h3",{onClick:function(){},children:"Ir"}),Object(i.jsxs)("h3",{children:[r," ",t.price]}),Object(i.jsx)("h4",{children:a})]}),Object(i.jsxs)("p",{className:"propertyInfoOne",children:[n," ",t.numberOfRooms," amb ",t.roofedArea,"m cubiertos"]}),Object(i.jsxs)("p",{className:"propertyInfoTwo",children:[Object(i.jsx)(G.a,{})," ",t.numberOfBedrooms," hab / ",Object(i.jsx)(D.a,{})," ",t.numberOfBathrooms," ",s,o&&" / ",o&&Object(i.jsx)(D.b,{}),o," "]}),Object(i.jsxs)("p",{className:"propertyInfoThree",children:[t.address,", ",t.district," ",Object(i.jsx)(_.a,{})]})]})]})]})},q=r(156),$={getPropertiesFiltered:g.getPropertiesFiltered},V=Object(x.b)((function(e){return{cities:e.allCities.cities}}),$)((function(e){var t=e.deletePropertieFromObject,r=e.formFilter,n=e.setFormFilter,s=(e.cities,e.getPropertiesFiltered,Object(a.useState)([])),c=Object(u.a)(s,2),o=c[0],l=c[1];console.log("Estoy en FiltersSelected"),Object(a.useEffect)((function(){console.log("FiltersSelected"),console.log("Array de Formfilter en UseEffect",r),console.log("filtros listos para eliminar",o);var e=[];Object.keys(r).forEach((function(t,a){if("allCases"!==r[t]&&!1!==r[t]&&""!==r[t]){var n,s;switch(t){case"operation":n="Operaci\xf3n: ",s="forSale"===r.operation?"Venta":"forRental"===r.operation?"Alquiler":"Alquiler Termporario";break;case"city":n="Ciudad/Regi\xf3n: ",s=r.city;break;case"isHouse":n="Tipo: ",s="house"===r.isHouse?"Casa":"Departamento";break;case"numberOfRooms":n="Ambientes: ",s="6AndMore"===r.numberOfRooms?"6 o m\xe1s":r.numberOfRooms;break;case"numberOfBedrooms":n="Dormitorios: ",s="6AndMore"===r.numberOfBedrooms?"6 o m\xe1s":r.numberOfBedrooms;break;case"numberOfBathrooms":n="Ba\xf1os: ",s="6AndMore"===r.numberOfBathrooms?"6 o m\xe1s":r.numberOfBathrooms;break;case"isUSD":n="Moneda: ",s="pesos"===r.isUSD?"Pesos":"D\xf3lares";break;case"greater":n="Mayor a: $",s=r.greater;break;case"lower":n="Menor a: $",s=r.lower;break;case"roofedArea":switch(n="Area Cubierta: ",r.roofedArea){case'{"$lte": 40}':s="hasta 40m\xb2";break;case'{"$gte":41,"$lte": 80}':s="41m\xb2 a 80m\xb2";break;case'{"$gte":81,"$lte": 200}':s="81m\xb2 a 200m\xb2";break;case'{"$gte":201,"$lte": 600}':s="201m\xb2 a 600m\xb2\xb2";break;case'{"$gte":600}':s="600m\xb2 o m\xe1s"}break;case"isBrandNew":n="A estrenar",s="";break;case"haveGarden":n="Con Jard\xedn",s="";break;case"haveGarage":n="Con Cochera",s="";break;case"havePool":n="Con Pileta",s=""}console.log("Cada bloque a eliminar ",[n,s,t,r[t]]),e.push([n,s,t,r[t]])}})),l(e)}),[r]);return Object(i.jsx)("div",{className:"filtersSelected",children:o.map((function(e,a){return!!e&&Object(i.jsxs)("p",{onClick:function(){return function(e,a){var s;switch(console.log(e),e){case"operation":case"city":case"isHouse":case"numberOfRooms":case"numberOfBedrooms":case"numberOfBathrooms":case"isUSD":case"roofedArea":s="allCases";break;case"greater":case"lower":s="";break;case"isBrandNew":case"haveGarden":case"haveGarage":case"havePool":s=!1}console.log("Array de bloques antes de eliminar uno",o),l(o.filter((function(e,t){return a!==t}))),n(Object(p.a)(Object(p.a)({},r),{},Object(b.a)({},e,s)));var c=t(e);console.log("nuevo filtro despues de eliminar bloque",c)}(e[2],a)},children:["".concat(e[0]," ").concat(e[1]," "),Object(i.jsx)(q.a,{})]},e[2]+"F")}))})})),J={getPropertiesFiltered:g.getPropertiesFiltered,setFilter:g.setFilter,getCities:S.getCities},W=Object(x.b)((function(e){return{cities:e.allCities.cities,properties:e.properties.properties}}),J)((function(e){var t=e.filterObj,r=e.setFilter,n=e.getCities,s=e.cities;console.log("Estoy en Big Filter"),console.log("Filter que llega del store",t);var c=Object(a.useState)({operation:"allCases",city:"allCases",isHouse:"allCases",numberOfRooms:"allCases",numberOfBedrooms:"allCases",numberOfBathrooms:"allCases",isUSD:"allCases",greater:"",lower:"",roofedArea:"allCases",isBrandNew:!1,haveGarden:!1,haveGarage:!1,havePool:!1}),o=Object(u.a)(c,2),l=o[0],j=o[1];Object(a.useEffect)((function(){s.length||n().then((function(e){if(!e.data.success)throw new Error("Something went wrong");console.log(e.data.response)})).catch((function(e){return console.log(e)})),console.log("el filtro la PRIMERA VEZ QUE LLEGA",t)}),[]),Object(a.useEffect)((function(){var e,r,a,n;Object.keys(t).length&&Object.keys(t).forEach((function(s){"forSale"===s&&t[s]&&(e="operation",r="forSale",a=!0),"shortRental"===s&&t[s]&&(r="shortRental",e="operation",n=!0),a||n||t.shortRental||t.forSale||(r="forRental",e="operation",n=!0,a=!0),s.startsWith("numberOf")&&(e=s,r="object"===typeof t[s]?"6AndMore":t[s]),"isHouse"===s&&(e=s,r=t[s]?"house":"apartment"),"greater"!==s&&"lower"!==s||(e=s,r=t[s]>=0?t[s]:""),"city"===s&&(e=s,r=t[s]),"isBrandNew"===s&&(e=s,r=t[s]),s.startsWith("have")&&(e=s,r=!!t[s]),j(Object(p.a)(Object(p.a)({},l),{},Object(b.a)({},e,r)))})),console.log("Valores del formulario en BigFilter",l)}),[t]);var d=Object(a.useState)(!1),h=Object(u.a)(d,2),O=h[0],m=h[1],x=function(e){var a={};return Object.keys(t).forEach((function(r){r!==e&&(a[r]=t[r])})),r(a),a},f=function(e,a,n,s){"allCases"===e.target.value?x(e.target.name):e.target.value===a?r(Object(p.a)(Object(p.a)({},t),{},Object(b.a)({},e.target.name,n))):r(Object(p.a)(Object(p.a)({},t),{},Object(b.a)({},e.target.name,s))),j(Object(p.a)(Object(p.a)({},l),{},Object(b.a)({},e.target.name,e.target.value)))},v=function(e){e.target.value<0&&(e.target.value=0),""===e.target.value?x(e.target.name):r(Object(p.a)(Object(p.a)({},t),{},Object(b.a)({},e.target.name,parseInt(e.target.value)))),j(Object(p.a)(Object(p.a)({},l),{},Object(b.a)({},e.target.name,e.target.value)))},g=function(e){e.target.checked?r(Object(p.a)(Object(p.a)({},t),{},Object(b.a)({},e.target.name,e.target.checked))):x(e.target.name),j(Object(p.a)(Object(p.a)({},l),{},Object(b.a)({},e.target.name,e.target.checked)))};console.log("Aca tengo las properties q vienen de props"),console.log(e.properties);var k=Object(a.useState)(e.properties),w=Object(u.a)(k,2),y=w[0],C=w[1];Object(a.useEffect)((function(){C(e.properties)}),[e.properties]);return Object(i.jsxs)("div",{className:"bigFilter",children:[Object(i.jsxs)("div",{children:[!O&&Object(i.jsxs)("button",{onClick:function(){return m(!0)},children:["M\xe1s Filtros ",Object(i.jsx)(P.a,{})]}),Object(i.jsx)(V,{deletePropertieFromObject:x,formFilter:l,setFormFilter:j})]}),O&&Object(i.jsxs)("div",{className:"filtersToSelect",children:[Object(i.jsxs)("div",{children:[" ",Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Operaci\xf3n"}),Object(i.jsxs)("select",{name:"operation",value:l.operation,onChange:function(e){switch(e.target.value){case"allCases":var a={};Object.keys(t).forEach((function(e){"forSale"!==e&&"shortRental"!==e&&(a[e]=t[e])})),r(a);break;case"forSale":r(Object(p.a)(Object(p.a)({},t),{},{forSale:!0,shortRental:!1}));break;case"forRental":r(Object(p.a)(Object(p.a)({},t),{},{forSale:!1,shortRental:!1}));break;case"shortRental":r(Object(p.a)(Object(p.a)({},t),{},{forSale:!1,shortRental:!0}))}j(Object(p.a)(Object(p.a)({},l),{},{operation:e.target.value}))},children:[Object(i.jsx)("option",{value:"allCases",children:"Todas las Operaciones"}),Object(i.jsx)("option",{value:"forSale",children:"Venta"}),Object(i.jsx)("option",{value:"forRental",children:"Alquiler"}),Object(i.jsx)("option",{value:"shortRental",children:"Alquiler Temporario"})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Ciudad o regi\xf3n"}),Object(i.jsxs)("select",{name:"city",value:t.city,onChange:function(e){return f(e,e.target.value,e.target.value,null)},children:[Object(i.jsx)("option",{value:"allCases",children:"Todas"}),s.map((function(e){return Object(i.jsx)("option",{value:e.cityName,children:e.cityName},e._id)}))]})]})]}),Object(i.jsxs)("div",{children:[" ",Object(i.jsx)("h5",{children:"Tipo de propiedad"}),Object(i.jsxs)("select",{name:"isHouse",value:l.isHouse,onChange:function(e){return f(e,"house",!0,!1)},children:[Object(i.jsx)("option",{value:"allCases",children:"Todos"}),Object(i.jsx)("option",{value:"house",children:"Casa"}),Object(i.jsx)("option",{value:"apartment",children:"Departamento"})]})]}),Object(i.jsxs)("div",{children:[" ",Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Ambientes"}),Object(i.jsxs)("select",{name:"numberOfRooms",value:l.numberOfRooms,onChange:function(e){return f(e,"6AndMore",{$gte:6},parseInt(e.target.value))},children:[Object(i.jsx)("option",{value:"allCases",children:"Todos"}),[1,2,3,4,5].map((function(e){return Object(i.jsx)("option",{value:e,children:e},e)})),Object(i.jsx)("option",{value:"6AndMore",children:" 6 o m\xe1s"})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Dormitorios"}),Object(i.jsxs)("select",{name:"numberOfBedrooms",value:l.numberOfBedrooms,onChange:function(e){return f(e,"6AndMore",{$gte:6},parseInt(e.target.value))},children:[Object(i.jsx)("option",{value:"allCases",children:"Todos"}),[1,2,3,4,5].map((function(e){return Object(i.jsx)("option",{value:e,children:e},e+10)})),Object(i.jsx)("option",{value:"6AndMore",children:" 6 o m\xe1s"})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Ba\xf1os"}),Object(i.jsxs)("select",{name:"numberOfBathrooms",value:l.numberOfBathrooms,onChange:function(e){return f(e,"6AndMore",{$gte:6},parseInt(e.target.value))},children:[Object(i.jsx)("option",{value:"allCases",children:"Todos"}),[1,2,3,4,5].map((function(e){return Object(i.jsx)("option",{value:e,children:e},e+20)})),Object(i.jsx)("option",{value:"6AndMore",children:" 6 o m\xe1s"})]})]})]}),Object(i.jsxs)("div",{children:[" ",Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Moneda"}),Object(i.jsxs)("select",{name:"isUSD",value:l.isUSD,onChange:function(e){return f(e,"pesos",!1,!0)},children:[Object(i.jsx)("option",{value:"allCases",children:"Todas"}),Object(i.jsx)("option",{value:"pesos",children:"Pesos"}),Object(i.jsx)("option",{value:"dolars",children:"D\xf3lares"})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Precio desde"}),Object(i.jsx)("input",{type:"number",name:"greater",min:0,value:l.greater,onChange:v})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h5",{children:"Precio hasta"}),Object(i.jsx)("input",{type:"number",name:"lower",min:0,value:l.lower,onChange:v})]})]}),Object(i.jsxs)("div",{children:[" ",Object(i.jsx)("h5",{children:"M\xb2 Metro Cuadrados Cubiertos"}),Object(i.jsxs)("select",{name:"roofedArea",value:l.roofedArea,onChange:function(e){return f(e,e.target.value,8===e.target.value.length&&e.target.value||JSON.parse(e.target.value),null)},children:[Object(i.jsx)("option",{value:"allCases",children:"Todas"}),Object(i.jsx)("option",{value:'{"$lte": 40}',children:"Hasta 40m\xb2"}),Object(i.jsx)("option",{value:'{"$gte":41,"$lte": 80}',children:"41m\xb2 a 80m\xb2"}),Object(i.jsx)("option",{value:'{"$gte":81,"$lte": 200}',children:"81m\xb2 a 200m\xb2"}),Object(i.jsx)("option",{value:'{"$gte":201,"$lte": 600}',children:"201m\xb2 a 600m\xb2"}),Object(i.jsx)("option",{value:'{"$gte":600}',children:"601m\xb2 o m\xe1s"})]})]}),Object(i.jsxs)("div",{children:[" ",Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"checkbox",id:"isBrandNew",name:"isBrandNew",checked:l.isBrandNew,onChange:g}),Object(i.jsx)("label",{htmlFor:"isBrandNew",children:"Solo a estrenar"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"checkbox",id:"haveGarden",name:"haveGarden",checked:l.haveGarden,onChange:g}),Object(i.jsx)("label",{htmlFor:"haveGarden",children:"Con Jard\xedn "})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"checkbox",id:"haveGarage",name:"haveGarage",checked:l.haveGarage,onChange:g}),Object(i.jsx)("label",{htmlFor:"haveGarage",children:"Con Cochera"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"checkbox",id:"havePool",name:"havePool",checked:l.havePool,onChange:g}),Object(i.jsx)("label",{htmlFor:"havePool",children:"Con Pileta"})]})]})]}),Object(i.jsxs)("div",{children:[" ",Object(i.jsx)("button",{onClick:function(){console.log("objeto que filtra"),console.log(t),e.getPropertiesFiltered(t).then((function(e){if(!e.data.success)throw new Error("Something went wrong");console.log(e.data.response)})).catch((function(e){return console.log(e)})),console.log("objeto con las opciones actuales"),console.log(l),m(!1)},children:"Buscar"})]})]}),Object(i.jsx)("div",{className:"sortList",children:Object(i.jsxs)("select",{onChange:function(t){switch(t.target.value){case"minPrice":C(y.sort((function(e,t){return e.price-t.price})));break;case"maxPrice":C(y.sort((function(e,t){return t.price-e.price})));break;case"minArea":C(y.sort((function(e,t){return e.roofedArea-t.roofedArea})));break;case"maxArea":C(y.sort((function(e,t){return t.roofedArea-e.roofedArea})));break;default:return void C(e.properties)}console.log(t.target.value),console.log("ordenar"),console.log(y)},children:[Object(i.jsx)("option",{value:"noSort",children:"Mas relevante"}),Object(i.jsx)("option",{value:"minPrice",children:"Menor precio"}),Object(i.jsx)("option",{value:"maxPrice",children:"Mayor precio"}),Object(i.jsx)("option",{value:"minArea",children:"Menor superficie"}),Object(i.jsx)("option",{value:"maxArea",children:"Mayor superficie"})]})}),Object(i.jsx)("div",{className:"propertiesCardList",children:e.properties.map((function(e){return Object(i.jsx)(L,{property:e})}))})]})})),Z={getPropertiesFiltered:g.getPropertiesFiltered,getCities:S.getCities},Y=Object(x.b)((function(e){return{filterObj:e.properties.filterObj,properties:e.properties.properties,cities:e.allCities.cities}}),Z)((function(e){var t=e.filterObj,r=e.getCities,n=e.getPropertiesFiltered,s=e.cities,c=e.properties;return Object(a.useEffect)((function(){0===c.length&&n({}).then((function(e){if(!e.data.success)throw new Error("Something went wrong");console.log(e.data.response)})).catch((function(e){return console.log(e)})),0===s&&r().then((function(e){if(!e.data.success)throw new Error("Something went wrong");console.log(e.data.response)})).catch((function(e){return console.log(e)}))}),[]),console.log(t),console.log("Array de propiedades",e.properties),Object(i.jsxs)("div",{className:"containerPropertiesList",children:[Object(i.jsx)(d,{}),Object(i.jsx)(W,{filterObj:t}),Object(i.jsx)(l,{})]})})),z=(r(67),{createUser:function(e){return Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("https://mardelcasas.herokuapp.com/api/user/register",Object(p.a)({},e));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))},logIn:function(e){return function(){var t=Object(m.a)(O.a.mark((function t(r){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("https://mardelcasas.herokuapp.com/api/user/login",Object(p.a)({},e));case 2:return(a=t.sent).data.success?r({type:"LOG_IN",payload:a.data.response}):r({type:"LOG_OUT"}),t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},validationUserToken:function(e){return Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("https://mardelcasas.herokuapp.com/api/user/validatemail",{headers:{Authorization:"Bearer "+e}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))},validationUserEmail:function(e){return Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("http://localhost:4000/api/user/validatemail",{eMail:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))},changePassword:function(e){return Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("http://localhost:4000/api/user/resetpassword",{eMail:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))},sendIdValidation:function(e){return Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("http://localhost:4000/api/user/validatemail/".concat(e));case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))},sendIdPassword:function(e,t){return Object(m.a)(O.a.mark((function r(){var a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,v.a.put("http://localhost:4000/api/user/resetpassword/".concat(e),t);case 2:return a=r.sent,r.abrupt("return",a.data);case 4:case"end":return r.stop()}}),r)})))}}),Q=r(45),K=r.n(Q),X={registerUser:z.createUser,validationUserToken:z.validationUserToken,validationUserEmail:z.validationUserEmail},ee=Object(x.b)(null,X)((function(e){var t=Object(a.useState)([]),r=Object(u.a)(t,2),n=r[0],s=r[1],o=Object(a.useState)({firstName:"",lastName:"",password:"",eMail:"",photoURL:""}),l=Object(u.a)(o,2),d=l[0],h=l[1],x=function(e){h(Object(p.a)(Object(p.a)({},d),{},Object(b.a)({},e.target.name,e.target.value)))},f=function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object.values(d).includes("")){t.next=4;break}console.log("todos los campos son obligatorios"),t.next=38;break;case 4:if(d.eMail.includes("@")){t.next=8;break}console.log("Por favor ingrese un mail v\xe1lido"),t.next=38;break;case 8:return t.prev=8,t.next=11,e.registerUser(d);case 11:if((r=t.sent).success){t.next=21;break}if(!r.response){t.next=17;break}throw r.response;case 17:s(r.errors);case 18:console.log(r),t.next=33;break;case 21:if(!r.success){t.next=33;break}return t.prev=22,console.log("Usuario registrado con \xe9xito"),t.next=26,e.validationUserToken(r.response.token);case 26:t.sent.success?console.log("Te enviamos un mail para que valides tu cuenta"):console.log("Hubo un error, intente nuevamente m\xe1s tarde"),t.next=33;break;case 30:t.prev=30,t.t0=t.catch(22),console.log(t.t0);case 33:t.next=38;break;case 35:t.prev=35,t.t1=t.catch(8),console.log(t.t1);case 38:case"end":return t.stop()}}),t,null,[[8,35],[22,30]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validationUserEmail(d.eMail);case 3:if(!(r=t.sent).success){t.next=8;break}console.log("Te enviamos un mail para que valides tu cuenta"),t.next=9;break;case 8:throw r.response;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(m.a)(O.a.mark((function t(r){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={firstName:r.profileObj.givenName,lastName:r.profileObj.familyName,photoURL:r.profileObj.imageUrl,password:r.profileObj.googleId,eMail:r.profileObj.email,google:!0},t.prev=1,t.next=4,e.registerUser(a);case 4:if((n=t.sent).success){t.next=9;break}console.log("El mail ya est\xe1 registrado"),t.next=20;break;case 9:return t.prev=9,console.log("Usuario registrado con \xe9xito"),t.next=13,e.validationUserToken(n.response.token);case 13:t.sent.success?console.log("Te enviamos un mail para que valides tu cuenta"):console.log("Hubo un error, intente nuevamente m\xe1s tarde"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(9),console.log(t.t0);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(1),console.log(t.t1);case 25:case"end":return t.stop()}}),t,null,[[1,22],[9,17]])})));return function(e){return t.apply(this,arguments)}}(),k=function(e){var t=n.find((function(t){return t.path[0]===e}));return Object(i.jsx)("p",{className:"errorInputs",style:{opacity:t?"1":"0"},children:t?t.message:"&nbsp;"})};return Object(i.jsxs)("div",{className:"formSign",children:[Object(i.jsx)(j,{}),Object(i.jsxs)("form",{children:[Object(i.jsx)("h1",{children:"Crea una cuenta"}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"text",name:"firstName",placeholder:"Nombre",onChange:x}),k("firstName")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"text",name:"lastName",placeholder:"Apellido",onChange:x}),k("lastName")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"email",name:"eMail",placeholder:"Email",onChange:x}),k("eMail")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",onChange:x}),k("password")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{type:"text",name:"photoURL",placeholder:"Url de foto",onChange:x}),k("photoURL")]})]}),Object(i.jsx)("div",{className:"submit",children:Object(i.jsx)("button",{onClick:f,children:"Enviar"})}),Object(i.jsx)("div",{className:"submit",children:Object(i.jsxs)("p",{children:["\xbfTen\xe9s una cuenta?",Object(i.jsx)(c.b,{to:"/iniciar-sesion",children:Object(i.jsx)("span",{children:" Inicia Sesi\xf3n"})})]})}),Object(i.jsx)("div",{className:"submit",children:Object(i.jsx)(c.b,{to:"/",children:"Volver a Home"})}),Object(i.jsxs)("div",{className:"logGoogle",children:[Object(i.jsx)("button",{children:"Inicia sesion con Facebook"}),Object(i.jsx)(K.a,{clientId:"449628523643-i6mlv9530rqnelgmf3gribco7nvsi4vr.apps.googleusercontent.com",className:"botonSub",buttonText:"Registrarse con Google",onSuccess:g,cookiePolicy:"single_host_origin"})]}),Object(i.jsxs)("div",{className:"submit",children:[Object(i.jsx)("p",{children:"\xbfNo te lleg\xf3 el mail de validaci\xf3n?"}),Object(i.jsx)("input",{type:"text",name:"eMail",placeholder:"Email",onChange:function(e){return h({eMail:e.target.value})}}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)("button",{onClick:v,children:"Enviar"})})]})]})})),te={logUser:z.logIn,sendChangePasswordEmail:z.changePassword},re=Object(x.b)(null,te)((function(e){var t=Object(a.useState)({password:"",eMail:""}),r=Object(u.a)(t,2),n=r[0],s=r[1],o=function(e){s(Object(p.a)(Object(p.a)({},n),{},Object(b.a)({},e.target.name,e.target.value)))},l=function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object.values(n).includes("")){t.next=4;break}console.log("Todos los campos son obligatorios"),t.next=14;break;case 4:return t.prev=4,t.next=7,e.logUser(n);case 7:(r=t.sent).success?console.log("\xa1Bienvenido de nuevo!"):console.log(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sendChangePasswordEmail(n.eMail);case 3:(r=t.sent).success?console.log("Te enviamos un mail para que puedas cambiar tu clave"):console.log(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=Object(m.a)(O.a.mark((function t(r){var a,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={password:r.profileObj.googleId,eMail:r.profileObj.email,google:!0},console.log(a),t.prev=2,t.next=5,e.logUser(a);case 5:n=t.sent,console.log(n),n.success?console.log("\xa1Bienvenido de nuevo!"):console.log(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"formSign",children:[Object(i.jsx)(j,{}),Object(i.jsxs)("form",{children:[Object(i.jsx)("h1",{children:"Inicia Sesi\xf3n"}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"email",name:"eMail",placeholder:"Email",onChange:o})}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"password",name:"password",placeholder:"Contrase\xf1a",onChange:o})})]}),Object(i.jsx)("div",{className:"submit",children:Object(i.jsx)("button",{onClick:l,children:"Enviar"})}),Object(i.jsx)("div",{className:"submit",children:Object(i.jsxs)("p",{children:["\xbfNo tienes una cuenta?",Object(i.jsx)(c.b,{to:"/registrarse",children:Object(i.jsx)("span",{children:" Registrate"})})]})}),Object(i.jsxs)("div",{className:"logGoogle",children:[Object(i.jsx)("button",{children:"Inicia sesion con Facebook"}),Object(i.jsx)(K.a,{clientId:"449628523643-i6mlv9530rqnelgmf3gribco7nvsi4vr.apps.googleusercontent.com",className:"botonSub",buttonText:"Ingresa con Google",onSuccess:h,cookiePolicy:"single_host_origin"})]}),Object(i.jsxs)("div",{className:"submit",children:[Object(i.jsx)("p",{children:"\xbfOlvidaste la clave?"}),Object(i.jsx)("input",{type:"text",name:"eMail",placeholder:"Email",onChange:function(e){return s({eMail:e.target.value})}}),Object(i.jsx)("div",{className:"",children:Object(i.jsx)("button",{onClick:d,children:"Enviar"})})]})]})})),ae=(r(120),{getProperty:g.getProperty}),ne=Object(x.b)((function(e){return{properties:e.properties.properties}}),ae)((function(e){var t=Object(a.useState)("connected"),r=Object(u.a)(t,2),n=r[0],s=r[1],c=Object(a.useState)(!0),o=Object(u.a)(c,2),j=o[0],b=o[1],p=Object(a.useState)({}),h=Object(u.a)(p,2),O=h[0],m=h[1];Object(a.useEffect)((function(){if(window.scroll(0,0),0===e.properties.length)e.getProperty(e.match.params.id).then((function(e){e.success?m(e.response):s(e.error),b(!1)}));else{var t=e.properties.filter((function(t){return t._id===e.match.params.id}));m(t[0]),b(!1)}}),[]);return console.log(O,n,j),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsx)("main",{className:"propertyMain",children:j?Object(i.jsx)("section",{className:"propertyLoading",children:Object(i.jsx)("p",{children:"Cargando..."})}):"connected"===n?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("section",{className:"carrouselAndTitleSection",children:[Object(i.jsx)("h1",{children:O.houseStyle}),Object(i.jsx)("p",{style:{textAlign:"center",paddingTop:"50px"},children:"carrusel WIP"})," "]}),Object(i.jsx)("section",{className:"dataSection",children:Object(i.jsx)("p",{children:"datos"})}),Object(i.jsx)("section",{className:"videoSection",children:Object(i.jsx)("article",{className:"videoArticle",children:Object(i.jsx)("iframe",{src:O.videoURL,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),Object(i.jsx)("section",{className:"calendarSection",children:Object(i.jsx)("p",{children:"calendar WIP"})})]}):Object(i.jsx)("section",{className:"propertyErrorConnection",children:Object(i.jsx)("p",{children:n})})}),Object(i.jsx)(l,{})]})})),se={sendIdValidation:z.sendIdValidation},ce=Object(x.b)(null,se)((function(e){return Object(a.useEffect)((function(){(function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sendIdValidation(e.match.params.id);case 3:if(!(r=t.sent).success){t.next=7;break}return alert("Tu cuenta se valid\xf3 con \xe9xito"),t.abrupt("return",e.history.push("/"));case 7:!r.success&&console.log("Hubo un problema, intente m\xe1s tarde"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(i.jsx)("div",{className:"validation",style:{backgroundImage:'url("/assets/ciudades/mardel.jpg")'}})})),oe=r(32),ie=r(46),le=Object(x.b)((function(e){return{token:e.user.token,admin:e.user.admin}}),{})((function(e){var t=e.token,r=Object(a.useState)(null),n=Object(u.a)(r,2),s=n[0],c=n[1],o=Object(a.useState)(0),l=Object(u.a)(o,2),j=l[0],d=l[1];Object(a.useEffect)((function(){if(!t)return!1;c(Object(ie.io)("http://localhost:4000",{auth:{token:t}}))}),[t]);var b=Object(a.useState)(!1),p=Object(u.a)(b,2),h=p[0],O=p[1],m=Object(a.useState)(""),x=Object(u.a)(m,2),f=x[0],v=x[1],g=Object(a.useState)([]),k=Object(u.a)(g,2),w=k[0],y=k[1];Object(a.useEffect)((function(){return!!t&&(!!s&&(s.on("adminConnected",(function(e){d(e)})),s.on("newAdminMessage",(function(e){console.log(e)})),s.on("iWillHelpYou",(function(e){console.log(e),v(e.sender),O(!0)})),void s.on("newMessage",(function(e){console.log(e),console.log("Cuando me llega el mensaje del admin",w),y((function(t){return[].concat(Object(oe.a)(t),[e])})),console.log("Despues de pushearlo",w)}))))}),[s]);var C=Object(a.useState)(""),N=Object(u.a)(C,2),S=N[0],E=N[1],I=Object(a.useState)(!1),T=Object(u.a)(I,2),P=T[0],A=T[1];return t?Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Chat de Soporte"}),Object(i.jsxs)("p",{children:["Numero de admins online: ",j]}),!P&&Object(i.jsx)("button",{onClick:function(){s.emit("clientNeedHelp"),A(!0)},type:"button",children:"Request Help"}),P&&!h&&Object(i.jsx)("p",{children:"Help Requested! please wait..."}),P&&h&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"chatBox",children:w.map((function(e,t){return Object(i.jsxs)("p",{children:["Me"===e.sender?"Me: ":"Admin: ",e.message]},t)}))}),Object(i.jsx)("input",{onChange:function(e){E(e.target.value)},type:"text",value:S}),Object(i.jsx)("button",{onClick:function(){if(""===S)return!1;s.emit("newMessageTo",{message:S,sendTo:f}),y((function(e){return[].concat(Object(oe.a)(e),[{message:S,sender:"Me"}])})),E("")},children:"SEND"})]})]}):Object(i.jsx)("div",{children:Object(i.jsx)("h2",{children:"DEBES ESTAR LOGEADO PARA UTILIZAR EL CHAT"})})})),ue=Object(x.b)((function(e){return{token:e.user.token,admin:e.user.admin}}),{})((function(e){var t=e.token,r=e.admin,n=Object(a.useState)(null),s=Object(u.a)(n,2),c=s[0],o=s[1],l=Object(a.useState)([]),j=Object(u.a)(l,2),d=j[0],h=j[1];Object(a.useEffect)((function(){o(Object(ie.io)("http://localhost:4000",{auth:{token:t}}))}),[]),Object(a.useEffect)((function(){return!!t&&(!!c&&(c.on("userConnected",(function(e){console.log(e)})),c.on("newClientMessage",(function(e){console.log(e)})),c.on("clientNeedHelp",(function(e){console.log(e)})),void c.on("newMessage",(function(e){console.log(e),console.log(d),h((function(t){return[].concat(Object(oe.a)(t),[{message:e.message,sender:"User"}])}))}))))}),[c]);var O=Object(a.useState)({message:"",sendTo:""}),m=Object(u.a)(O,2),x=m[0],f=m[1],v=function(e){f(Object(p.a)(Object(p.a)({},x),{},Object(b.a)({},e.target.name,e.target.value)))},g=Object(a.useState)({whoToHelp:""}),k=Object(u.a)(g,2),w=k[0],y=k[1];return t||r?Object(i.jsxs)("div",{children:[Object(i.jsx)("h4",{children:"Chat de Soporte ADMIN VERSION"}),Object(i.jsx)("div",{className:"chatBox",children:d.map((function(e,t){return Object(i.jsxs)("p",{children:["Me"===e.sender?"Me: ":"User: ",e.message]},t)}))}),Object(i.jsx)("input",{onChange:v,type:"text",name:"message",value:x.message}),Object(i.jsx)("input",{onChange:v,type:"text",name:"sendTo",value:x.sendTo}),Object(i.jsx)("button",{onClick:function(){if(""===x.message)return!1;c.emit("newMessageTo",x),h((function(e){return[].concat(Object(oe.a)(e),[{message:x.message,sender:"Me"}])})),f(Object(p.a)(Object(p.a)({},x),{},{message:""}))},children:"SEND"}),Object(i.jsx)("input",{onChange:function(e){y(Object(b.a)({},e.target.name,e.target.value))},type:"text",name:"whoToHelp",value:w.whoToHelp}),Object(i.jsx)("button",{onClick:function(){if(""===w.whoToHelp)return!1;c.emit("iWillHelp",w),f(Object(p.a)(Object(p.a)({},x),{},{sendTo:w.whoToHelp}))},children:"HELP HIM"})]}):Object(i.jsx)("p",{children:"NO ESTAS AUTORIZADO A VER ESTO"})})),je={sendIdPassword:z.sendIdPassword},de=Object(x.b)(null,je)((function(e){var t=Object(a.useState)({}),r=Object(u.a)(t,2),n=r[0],s=r[1],c=function(){var t=Object(m.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sendIdPassword(e.match.params.id,n);case 3:if(!(r=t.sent).success){t.next=7;break}return alert("Tu contrase\xf1a se cambi\xf3 con \xe9xito"),t.abrupt("return",e.history.push("/"));case 7:if(r.success){t.next=9;break}throw r;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"formSign",children:[Object(i.jsxs)("form",{children:[Object(i.jsx)("h1",{children:"Restablece tu contrase\xf1a"}),Object(i.jsx)("div",{children:Object(i.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:function(e){return s({password:e.target.value})}})})]}),Object(i.jsx)("div",{className:"submit",children:Object(i.jsx)("button",{onClick:c,children:"Enviar"})})]})}));var be=Object(x.b)((function(e){return{admin:e.user.admin,token:e.user.token}}))((function(e){var t=e.admin,r=e.token;return Object(i.jsxs)(c.a,{children:[Object(i.jsxs)(o.d,{children:[Object(i.jsx)(o.b,{exact:!0,path:"/",component:T}),Object(i.jsx)(o.b,{path:"/usuario/validar-email/:id",component:ce}),Object(i.jsx)(o.b,{path:"/usuario/restablecer-contrase\xf1a/:id",component:de}),Object(i.jsx)(o.b,{path:"/lista-de-propiedades",component:Y}),Object(i.jsx)(o.b,{path:"/propiedad/:id",component:ne}),!r&&Object(i.jsx)(o.b,{path:"/registrarse",component:ee}),!r&&Object(i.jsx)(o.b,{path:"/iniciar-sesion",component:re}),t&&Object(i.jsx)(o.b,{path:"/admin",component:ue}),Object(i.jsx)(o.a,{to:"/"})]}),!t&&Object(i.jsx)(le,{})]})})),pe=r(39),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cities:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES":return Object(p.a)(Object(p.a)({},e),{},{cities:t.payload});default:return e}},Oe={properties:[],filterObj:{}},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROPERTIES_FILTERED":return Object(p.a)(Object(p.a)({},e),{},{properties:t.payload.response,filterObj:t.payload.filterObj});case"SET_FILTER":return{filterObj:t.payload};case"RESET":return Oe;default:return e}},xe={token:null,admin:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return{token:t.payload.token,admin:t.payload.admin};case"LOG_OUT":return xe;default:return e}},ve=Object(pe.b)({allCities:he,properties:me,user:fe}),ge=r(82),ke=Object(pe.c)(ve,Object(pe.a)(ge.a));s.a.render(Object(i.jsx)(x.a,{store:ke,children:Object(i.jsx)(be,{})}),document.getElementById("root"))},40:function(e,t,r){},66:function(e,t,r){},67:function(e,t,r){},88:function(e,t,r){},89:function(e,t,r){},91:function(e,t,r){}},[[150,1,2]]]);
//# sourceMappingURL=main.22a37705.chunk.js.map